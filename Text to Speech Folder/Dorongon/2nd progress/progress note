
This guide outlines the complete setup to get your custom Hailo-8 detection script running on a Raspberry Pi 5 using the hailo-rpi5-examples framework.
Hailo RPi5 AI Hat: Setup & Deployment Guide

1. Prerequisites
Hardware: Raspberry Pi 5 + Raspberry Pi AI Kit (Hailo-8L).
OS: Raspberry Pi OS 64-bit (Bookworm).
Connection: Ensure the AI Kit is enabled in config.txt (dtparam=pciex1).


2. Install Hailo Software Suite
Before running examples, install the core Hailo dependencies:

sudo apt update
sudo apt install hailo-all
sudo reboot


3. Setup the Working Directory
Clone the official examples repository. This repository contains the underlying logic (hailo_apps) your script depends on.


cd /home/raspberrypi
git clone https://github.com/hailo-ai/hailo-rpi5-examples.git
cd hailo-rpi5-examples


4. Install Dependencies & Virtual Environment
The RPi5 examples require a specific Python environment.

# Run the installation script provided by Hailo
./install.sh

# Download the pre-compiled models (HEF files)
./download_resources.sh


5. Create Your Custom Script
Navigate to your preferred directory and create your detection file.

mkdir -p "/home/raspberrypi/SENSEY/Text to Speech Folder/Dorongon/1st progres/"
nano "/home/raspberrypi/SENSEY/Text to Speech Folder/Dorongon/1st progres/detection.py"
Paste your working code there.


6. Critical Code Requirements
To ensure the script works outside the hailo-rpi5-examples folder, verify these three sections in your code:
Path Inclusion: Tells Python where the Hailo libraries are.


import sys
sys.path.append("/home/raspberrypi/hailo-rpi5-examples")
Display Environment: Forces the window to open on the RPi desktop.
os.environ["QT_QPA_PLATFORM"] = "xcb"
os.environ["DISPLAY"] = ":0"

Frame Handling: Use user_data.set_frame(frame) instead of cv2.imshow. GStreamer handles the high-speed display window.


7. How to Run the Script
This is the most important step. You must source the Hailo environment before running the script, or the imports will fail.

# 1. Navigate to the examples folder
cd /home/raspberrypi/hailo-rpi5-examples

# 2. Activate the Hailo virtual environment
source setup_env.sh

# 3. Run your custom script from its specific location
python "/home/raspberrypi/SENSEY/Text to Speech Folder/Dorongon/1st progres/detection.py"


8. Troubleshooting Guide
Issue	Solution
ModuleNotFoundError	Ensure you ran source setup_env.sh and that sys.path.append points to the correct hailo-rpi5-examples folder.
HEF file not found	Ensure you ran ./download_resources.sh inside the examples folder. Check if the path in your code matches the actual file location.
Video not playing	Check if the video path in hardcoded_args is correct. Try with a simple .mp4 if .MOV causes codec issues.
Could not open display	Ensure you are running the script from the Raspberry Pi Terminal (not via a basic SSH session). If using SSH, use ssh -X.
Slow Performance	Ensure you aren't using cv2.imshow inside the callback loop; use the GStreamer pipeline instead.


9. Summary of Folder Structure
For this setup to work seamlessly, your folders should look like this:
/home/raspberrypi/hailo-rpi5-examples/ (The Core Engine)
/home/raspberrypi/hailo-rpi5-examples/resources/ (Where your .hef models live)
/home/raspberrypi/SENSEY/.../detection.py (Your custom logic)
